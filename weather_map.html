<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Weather Map API</title>
    <link rel="stylesheet" href="css/weather-map.css">
    <script src="https://code.jquery.com/jquery-3.6.0.js"
            integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
</head>
<body>
<header id="top-bar">
    <h1>Weather App</h1>
    <h2>Current City:&nbsp; </h2>
    <h3 id="current-city">Boulder, CO</h3>
</header>

<div id="search-bar">
    <label for="search">Place:&nbsp;</label>
    <input type="text" id="search" placeholder="enter a city">
</div>

<div id="forecasts">
    <!--    FORECASTS WILL GO HERE-->
</div>


<script>
    function getWeather(q) {
        $.get("http://api.openweathermap.org/data/2.5/forecast", {
            APPID: "92f38058292f35435f6f74b0304dcfd4",
            q: q,
            units: "imperial"
        }).done(function (data) {
            console.log("Five Day Forecast:");
            let forecast = [];
            let dayOne = {};
            let dayTwo = {};
            let dayThree = {};
            let dayFour = {};
            let dayFive = {};

            dayOne.date = data.list[6].dt_txt.substring(0, 10);
            dayOne.temp = data.list[6].main.temp_max;
            dayOne.icon = data.list[6].weather[0].icon;
            dayOne.description = data.list[6].weather[0].description;
            dayOne.humidity = data.list[6].main.humidity;
            dayOne.wind = data.list[6].wind.speed;
            dayOne.pressure = data.list[6].main.pressure;
            forecast.push(dayOne);

            dayTwo.date = data.list[14].dt_txt.substring(0, 10);
            dayTwo.temp = data.list[14].main.temp_max;
            dayTwo.icon = data.list[14].weather[0].icon;
            dayTwo.description = data.list[14].weather[0].description;
            dayTwo.humidity = data.list[14].main.humidity;
            dayTwo.wind = data.list[14].wind.speed;
            dayTwo.pressure = data.list[14].main.pressure;
            forecast.push(dayTwo);

            dayThree.date = data.list[22].dt_txt.substring(0, 10);
            dayThree.temp = data.list[22].main.temp_max;
            dayThree.icon = data.list[22].weather[0].icon;
            dayThree.description = data.list[22].weather[0].description;
            dayThree.humidity = data.list[22].main.humidity;
            dayThree.wind = data.list[22].wind.speed;
            dayThree.pressure = data.list[22].main.pressure;
            forecast.push(dayThree);

            dayFour.date = data.list[30].dt_txt.substring(0, 10);
            dayFour.temp = data.list[30].main.temp_max;
            dayFour.icon = data.list[30].weather[0].icon;
            dayFour.description = data.list[30].weather[0].description;
            dayFour.humidity = data.list[30].main.humidity;
            dayFour.wind = data.list[30].wind.speed;
            dayFour.pressure = data.list[30].main.pressure;
            forecast.push(dayFour);

            dayFive.date = data.list[38].dt_txt.substring(0, 10);
            dayFive.temp = data.list[38].main.temp_max;
            dayFive.icon = data.list[38].weather[0].icon;
            dayFive.description = data.list[38].weather[0].description;
            dayFive.humidity = data.list[38].main.humidity;
            dayFive.wind = data.list[38].wind.speed;
            dayFive.pressure = data.list[38].main.pressure;
            forecast.push(dayFive);

            // console.log(dayFour);
            console.log(forecast);
            // console.log(data.list[6].dt_txt);
        });
    }

    getWeather("Macon, GA, US");


</script>
</body>
</html>